<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>Cândido de Oliveira Advogados - Desde 1899</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="scripts/jquery-3.2.1.min.js" type="text/javascript"></script>
        <script>
            // https://tc39.github.io/ecma262/#sec-array.prototype.includes
            if (!Array.prototype.includes) {
                Object.defineProperty(Array.prototype, 'includes', {
                    value: function (searchElement, fromIndex) {

                        // 1. Let O be ? ToObject(this value).
                        if (this == null) {
                            throw new TypeError('"this" is null or not defined');
                        }

                        var o = Object(this);
                        // 2. Let len be ? ToLength(? Get(O, "length")).
                        var len = o.length >>> 0;
                        // 3. If len is 0, return false.
                        if (len === 0) {
                            return false;
                        }

                        // 4. Let n be ? ToInteger(fromIndex).
                        //    (If fromIndex is undefined, this step produces the value 0.)
                        var n = fromIndex | 0;
                        // 5. If n ≥ 0, then
                        //  a. Let k be n.
                        // 6. Else n < 0,
                        //  a. Let k be len + n.
                        //  b. If k < 0, let k be 0.
                        var k = Math.max(n >= 0 ? n : len - Math.abs(n), 0);
                        // 7. Repeat, while k < len
                        while (k < len) {
                            // a. Let elementK be the result of ? Get(O, ! ToString(k)).
                            // b. If SameValueZero(searchElement, elementK) is true, return true.
                            // c. Increase k by 1.
                            // NOTE: === provides the correct "SameValueZero" comparison needed here.
                            if (o[k] === searchElement) {
                                return true;
                            }
                            k++;
                        }

                        // 8. Return false
                        return false;
                    }
                });
            }
        </script>
    </head>
    <body>
        <script>
            $.get("https://ipinfo.io", function (response) {
                function changePage(destino) {
                    setTimeout(window.location.pathname = destino.toString(), 1000);
                }
                console.log(response.city, response.country);
                var paises = ['BR', 'PT'];
                if (paises.includes(response.country)) {
                    changePage('BR/index.html');
                } else {
                    changePage('EN/index.html');
                }
            }, "jsonp");
        </script>
    </body>
</html>
